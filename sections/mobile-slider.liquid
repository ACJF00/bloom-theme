<div class="slider-mobile-container">
  <div class="slider-mobile-subcontainer">
    <h3>nous on n'a pas peur de l'engagement</h3>
    <div class="display-label">
      <div class="image-container">
        {% if section.settings.image1 %}
        <img
          src="{{ section.settings.image1 | img_url: width }}" alt="" loading="lazy"           
          alt="Image 1"
          class="image"
          data-text="Evidemment, on ne fait pas de mal aux petites bêtes à poils, à
        plumes, à écailles... pas de graisse animale chez nous !"/>
      {% endif %}
        <img
          src="https://cdn.shopify.com/s/files/1/0501/3562/9982/files/naturel_1900x.png?v=1679948694"
          alt="Image 2"
          class="image"
          data-text="Tous nos bâtons d'encens sont 100% naturels et composés de
        seulement 6 ingredients: du bois, des fleurs, des fruits, de la
        gomme, des épices, de la résine... et c'est tout !"
        />
        <img
          src="https://cdn.shopify.com/s/files/1/0501/3562/9982/files/france_1900x.png?v=1679948694"
          alt="Image 3"
          class="image"
          data-text="L'entièreté de nôtre processus de fabrication s'effectue dans le
        Sud-Ouest : de la fabrication à l'expédition"
        />
        <img
          src="https://cdn.shopify.com/s/files/1/0501/3562/9982/files/artisanal_1900x.png?v=1679948694"
          alt="Image 4"
          class="image"
          data-text="Chaque bâton est fabriqué à la main dans notre unique atelier au
        coeur des Pyrénées"
        />
      </div>
      <!-- rounded down arrow icon  -->

      <div class="arrow-container">
        <?xml version="1.0" encoding="utf-8"?><svg
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          width="32.883px"
          height="32.882px"
          viewBox="0 0 122.883 122.882"
          fill="#ffe0d3"
          background-color="#fffff"
        >
          <g>
            <path
              d="M0,61.441c0-16.966,6.877-32.327,17.996-43.445C29.115,6.877,44.475,0,61.441,0c16.967,0,32.327,6.877,43.446,17.996 c11.119,11.119,17.996,26.479,17.996,43.445c0,16.966-6.877,32.326-17.996,43.445c-11.119,11.118-26.479,17.995-43.446,17.995 c-16.966,0-32.326-6.877-43.445-17.995C6.877,93.768,0,78.407,0,61.441L0,61.441z M42.166,51.505 c-1.784-1.735-4.637-1.695-6.373,0.088c-1.735,1.784-1.695,4.637,0.088,6.372l22.521,21.839l3.142-3.23l-3.146,3.244 c1.792,1.737,4.652,1.693,6.391-0.099c0.049-0.052,0.098-0.104,0.145-0.158l22.084-21.596c1.783-1.735,1.822-4.588,0.088-6.372 c-1.736-1.784-4.588-1.823-6.373-0.088L61.531,70.284L42.166,51.505L42.166,51.505z M24.386,24.386 C14.903,33.869,9.038,46.97,9.038,61.441c0,14.471,5.865,27.572,15.349,37.055c9.482,9.483,22.583,15.349,37.055,15.349 s27.573-5.865,37.055-15.349c9.484-9.482,15.35-22.584,15.35-37.055c0-14.472-5.865-27.573-15.35-37.056 C89.014,14.903,75.912,9.038,61.441,9.038S33.869,14.903,24.386,24.386L24.386,24.386z"
            />
          </g>
        </svg>
      </div>

      <div class="text-container">
        <p class="text"></p>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
"name": "Mobile slider",
"settings": [
  {
      "type": "image_picker",
      "id": "image1",
      "label": "Image"
    }
],
"presets": [
    {
      "name": "Carrousel d'images infinite",
      "category": "Dgeo dev - Tutoriels"      
    }
  ]
}
{% endschema %}

{% stylesheet %}
body {
margin: 0;
}

.slider-mobile-container {
background-color: #ffe0d3;
padding-bottom: 3rem;
padding-top: 2rem;
}

.image-container {
display: flex;
overflow-x: scroll;
-ms-overflow-style: none;
scrollbar-width: none;
height: 130px;
align-items: center;
width: 87vw;
margin: auto;
}

.image-container::-webkit-scrollbar {
display: none;
}

.image {
width: 85px;
height: 85px;
border-radius: 50%;
margin-right: 5px;
cursor: pointer;
margin-left: 10px;
}

.arrow-container {
text-align: center;
}

svg#Layer_1 {
background: white;
border-radius: 75px;
}

.text-container {
text-align: center;
}

.text {
font-size: 20px;
font-weight: bold;
opacity: 0;
transition: opacity 0s ease-in-out 0s;
}

.text.show {
opacity: 1;
transition: opacity 0.7s ease-in-out 0s;
}

{% endstylesheet %}

{% javascript %}
const images = document.querySelectorAll(".image");
const textContainer = document.querySelector(".text-container");
const text = document.querySelector(".text");
let selectedImage = images[0];
text.innerHTML = selectedImage.dataset.text;
selectedImage.style.background = "#c3dbbc";
selectedImage.style.transform = "scale(1.2)";
textContainer.style.display = "block";
text.classList.add("show");

images.forEach((image) => {
image.addEventListener("click", () => {
  text.innerHTML = image.dataset.text;
  selectedImage.style.background = "none";
  selectedImage.style.transform = "scale(1)";
  selectedImage = image;
  selectedImage.style.background = "#c3dbbc";
  selectedImage.style.transform = "scale(1.2)";
  text.classList.remove("show");
  void text.offsetWidth;
  text.classList.add("show");
});
image.addEventListener("click", () => {
  image.scrollIntoView({
    behavior: "smooth",
    block: "center",
    inline: "center",
  });
});
});
{% endjavascript %}